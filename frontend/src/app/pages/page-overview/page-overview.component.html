<div class="page-overview p-4">
  <div class="mx-auto w-full sm:w-6 sm:pt-8">
    <!-- Header bar -->
    <div class="flex justify-content-between align-items-center">
      <app-logo></app-logo>
      <p-button
        icon="pi pi-sign-out"
        [rounded]="true"
        severity="secondary"
        [outlined]="true"
        pTooltip="Log out"
        (click)="logoutClick()"
      />
    </div>

    <h2 class="mt-8">Welcome!</h2>

    <div *ngIf="canvasList$ | async as canvasList; else emptyNotice">
      <div
        class="flex flex-column-reverse md:flex-row align-items-center justify-content-between mb-4 mt-6"
      >
        <p>Here is a list of your previously created canvas sheets:</p>
        <div class="mt-md-0 mt-2">
          <p-button
            label="Create a canvas"
            icon="pi pi-plus"
            severity="info"
            routerLink="/main/canvas"
            size="small"
            class="white-space-nowrap"
          />
        </div>
      </div>

      <p-table [value]="canvasList" [tableStyle]="{ 'min-width': '50rem' }">
        <ng-template pTemplate="header">
          <tr>
            <th>Name</th>
            <th>Creation Date</th>
            <th>Last Edited</th>
          </tr>
        </ng-template>
        <ng-template pTemplate="body" let-entry>
          <tr class="cursor-pointer hover:bg-orange-50">
            <td>{{ entry.name }}</td>
            <td>{{ entry.creationDate | date: "dd/MM/yyyy HH:mm" }}</td>
            <td>{{ entry.lastEditDate | date: "dd/MM/yyyy HH:mm" }}</td>
          </tr>
        </ng-template>
      </p-table>
    </div>
  </div>
</div>

<ng-template #emptyNotice>
  <p>Looks like you have not created any canvas yet. Let's get started!</p>
  <p-button
    label="Create a canvas"
    icon="pi pi-plus"
    severity="info"
    routerLink="/main/canvas"
  />
</ng-template>
